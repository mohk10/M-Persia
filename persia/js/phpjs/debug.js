/* 
 * More info at: http://phpjs.org
 * 
 * This is version: 3.16
 * php.js is copyright 2010 Kevin van Zonneveld.
 * 
 * Portions copyright Brett Zamir (http://brett-zamir.me), Kevin van Zonneveld
 * (http://kevin.vanzonneveld.net), Onno Marsman, Theriault, Michael White
 * (http://getsprink.com), Waldo Malqui Silva, Paulo Ricardo F. Santos, Jonas
 * Raoni Soares Silva (http://www.jsfromhell.com), Jack, Philip Peterson, Ates
 * Goral (http://magnetiq.com), Legaev Andrey, Ratheous, Alex, Martijn
 * Wieringa, Nate, lmeyrick (https://sourceforge.net/projects/bcmath-js/),
 * Philippe Baumann, Enrique Gonzalez, Webtoolkit.info
 * (http://www.webtoolkit.info/), travc, Ole Vrijenhoek, Carlos R. L.
 * Rodrigues (http://www.jsfromhell.com), Jani Hartikainen, Ash Searle
 * (http://hexmen.com/blog/), Erkekjetter, Johnny Mast
 * (http://www.phpvrouwen.nl), pilus, marrtins, Rafał Kukawski
 * (http://blog.kukawski.pl), T.Wild, Michael Grier, stag019, WebDevHobo
 * (http://webdevhobo.blogspot.com/), GeekFG (http://geekfg.blogspot.com),
 * Andrea Giammarchi (http://webreflection.blogspot.com), d3x,
 * http://stackoverflow.com/questions/57803/how-to-convert-decimal-to-hex-in-javascript,
 * majak, gettimeofday, Tim de Koning (http://www.kingsquare.nl), Joris,
 * Martin (http://www.erlenwiese.de/), Steven Levithan
 * (http://blog.stevenlevithan.com), Marc Palau, Paul Smith, Robin, David,
 * Imgen Tata (http://www.myipdf.com/), Mailfaker (http://www.weedem.fr/),
 * mdsjack (http://www.mdsjack.bo.it), felix, Mirek Slugen, Public Domain
 * (http://www.json.org/json2.js), Chris, Oleg Eremeev, KELAN, Karol Kowalski,
 * Michael White, Breaking Par Consulting Inc
 * (http://www.breakingpar.com/bkp/home.nsf/0/87256B280015193F87256CFB006C45F7),
 * Josh Fraser
 * (http://onlineaspect.com/2007/06/08/auto-detect-a-time-zone-with-javascript/),
 * Arpad Ray (mailto:arpad@php.net), Felix Geisendoerfer
 * (http://www.debuggable.com/felix), Caio Ariede (http://caioariede.com),
 * Aman Gupta, Thunder.m, Lars Fischer, Sakimori, Tyler Akins
 * (http://rumkin.com), Alfonso Jimenez (http://www.alfonsojimenez.com),
 * Kankrelune (http://www.webfaktory.info/), AJ, Steve Hilder, gorthaur,
 * Pellentesque Malesuada, saulius, Douglas Crockford
 * (http://javascript.crockford.com), paulo kuong, mktime, john
 * (http://www.jd-tech.net), noname, Marco, Frank Forte, duncan, Bayron
 * Guevara, madipta, Nick Kolosov (http://sammy.ru), ger, Mateusz "loonquawl"
 * Zalega, 0m3r, ReverseSyntax, Sanjoy Roy, Francois, Scott Cariss, Slawomir
 * Kaniecki, Arno, Nathan, sankai, class_exists, Gilbert, marc andreu, Fox,
 * josh, Subhasis Deb, nobbler, Steve Clay, David James, Jon Hohle, Pyerre,
 * merabi, nord_ua, Ozh, echo is bad, Oskar Larsson Högfeldt
 * (http://oskar-lh.name/), XoraX (http://www.xorax.info), Soren Hansen,
 * T0bsn, Tim Wiel, Brad Touesnard, MeEtc (http://yass.meetcweb.com), Bryan
 * Elliott, David Randall, Denny Wardhana, JT, Thomas Beaucourt
 * (http://www.webapp.fr), Shingo, Der Simon
 * (http://innerdom.sourceforge.net/), kenneth, Hyam Singer
 * (http://www.impact-computing.com/), djmix, Lincoln Ramsay, Raphael (Ao
 * RUDLER), Peter-Paul Koch (http://www.quirksmode.org/js/beat.html), T. Wild,
 * Ole Vrijenhoek (http://www.nervous.nl/), Paul, lmeyrick
 * (https://sourceforge.net/projects/bcmath-js/this.), LH, JB, Eugene Bulkin
 * (http://doubleaw.com/), Stoyan Kyosev (http://www.svest.org/), Francesco, J
 * A R, Linuxworld, Marc Jansen, Thiago Mata (http://thiagomata.blog.com),
 * Matt Bradley, date, Kristof Coomans (SCK-CEN Belgian Nucleair Research
 * Centre), Pierre-Luc Paour, Martin Pool, Brant Messenger
 * (http://www.brantmessenger.com/), Kirk Strobeck, Saulo Vallory, Christoph,
 * Wagner B. Soares, Artur Tchernychev, Valentina De Rosa, Jason Wong
 * (http://carrot.org/), Daniel Esteban, strftime, Rick Waldron, Mick@el,
 * Anton Ongson, Simon Willison (http://simonwillison.net), Gabriel Paderni,
 * Philipp Lenssen, Marco van Oort, Bug?, Blues (http://tech.bluesmoon.info/),
 * Tomasz Wesolowski, rezna, Eric Nagel, Bobby Drake, Luke Godfrey, Pul,
 * uestla, Alan C, Ulrich, Yves Sucaet, sowberry, Norman "zEh" Fuchs, hitwork,
 * Zahlii, johnrembo, Nick Callen, Steven Levithan (stevenlevithan.com),
 * ejsanders, Aidan Lister (http://aidanlister.com/), Brian Tafoya
 * (http://www.premasolutions.com/), Philippe Jausions
 * (http://pear.php.net/user/jausions), Rob, Orlando, HKM, metjay, strcasecmp,
 * strcmp, Taras Bogach, jpfle, ChaosNo1, Alexander Ermolaev
 * (http://snippets.dzone.com/user/AlexanderErmolaev), dptr1988, kilops, Le
 * Torbi, James, DxGx, Pedro Tainha (http://www.pedrotainha.com),
 * penutbutterjelly, Christian Doebler, baris ozdil, Greg Frazier, Tod
 * Gentille, Riddler (http://www.frontierwebdev.com/), Alexander M Beedie,
 * FGFEmperor, gabriel paderni, Atli Þór, Maximusya, daniel airton wermann
 * (http://wermann.com.br), 3D-GRAF, Yannoo, jakes, T.J. Leahy, FremyCompany,
 * stensi, Billy, vlado houba, Itsacon (http://www.itsacon.net/), Jalal
 * Berrami, Matteo, Victor, Tim de Koning, Luis Salazar
 * (http://www.freaky-media.com/), taith, Manish, fearphage
 * (http://http/my.opera.com/fearphage/), Cord, davook, Benjamin Lupton,
 * Garagoth, Andrej Pavlovic, Dino, William, rem, Russell Walker
 * (http://www.nbill.co.uk/), Jamie Beck (http://www.terabit.ca/), setcookie,
 * Michael, YUI Library:
 * http://developer.yahoo.com/yui/docs/YAHOO.util.DateLocale.html, Blues at
 * http://hacks.bluesmoon.info/strftime/strftime.js, DtTvB
 * (http://dt.in.th/2008-09-16.string-length-in-bytes.html), Andreas, meo,
 * Greenseed, Luke Smith (http://lucassmith.name), Kheang Hok Chin
 * (http://www.distantia.ca/), Rival, Diogo Resende, Allan Jensen
 * (http://www.winternet.no), Howard Yeend, Jay Klehr, Amir Habibi
 * (http://www.residence-mixte.com/), mk.keck, Yen-Wei Liu, Leslie Hoare, Ben
 * Bryan, Cagri Ekin, booeyOH
 * 
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included
 * in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
 * OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.
 * IN NO EVENT SHALL KEVIN VAN ZONNEVELD BE LIABLE FOR ANY CLAIM, DAMAGES
 * OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,
 * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */ 


function echo () {
    // !No description available for echo. @php.js developers: Please update the function summary text file.
    // 
    // version: 1004.2314
    // discuss at: http://phpjs.org/functions/echo
    // +   original by: Philip Peterson
    // +   improved by: echo is bad
    // +   improved by: Nate
    // +    revised by: Der Simon (http://innerdom.sourceforge.net/)
    // +   improved by: Brett Zamir (http://brett-zamir.me)
    // +   bugfixed by: Eugene Bulkin (http://doubleaw.com/)
    // +   input by: JB
    // +   improved by: Brett Zamir (http://brett-zamir.me)
    // +   bugfixed by: Brett Zamir (http://brett-zamir.me)
    // +   bugfixed by: Brett Zamir (http://brett-zamir.me)
    // %        note 1: If browsers start to support DOM Level 3 Load and Save (parsing/serializing),
    // %        note 1: we wouldn't need any such long code (even most of the code below). See
    // %        note 1: link below for a cross-browser implementation in JavaScript. HTML5 might
    // %        note 1: possibly support DOMParser, but that is not presently a standard.
    // %        note 2: Although innerHTML is widely used and may become standard as of HTML5, it is also not ideal for
    // %        note 2: use with a temporary holder before appending to the DOM (as is our last resort below),
    // %        note 2: since it may not work in an XML context
    // %        note 3: Using innerHTML to directly add to the BODY is very dangerous because it will
    // %        note 3: break all pre-existing references to HTMLElements.
    // *     example 1: echo('<div><p>abc</p><p>abc</p></div>');
    // *     returns 1: undefined
    var arg = '', argc = arguments.length, argv = arguments, i = 0;
    var win = this.window;
    var d = win.document;
    var ns_xhtml = 'http://www.w3.org/1999/xhtml';
    var ns_xul = 'http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul'; // If we're in a XUL context

    var holder;

    var stringToDOM = function (str, parent, ns, container) {
        var extraNSs = '';
        if (ns === ns_xul) {
            extraNSs = ' xmlns:html="'+ns_xhtml+'"';
        }
        var stringContainer = '<'+container+' xmlns="'+ns+'"'+extraNSs+'>'+str+'</'+container+'>';
        if (win.DOMImplementationLS &&
            win.DOMImplementationLS.createLSInput &&
            win.DOMImplementationLS.createLSParser) { // Follows the DOM 3 Load and Save standard, but not
            // implemented in browsers at present; HTML5 is to standardize on innerHTML, but not for XML (though
            // possibly will also standardize with DOMParser); in the meantime, to ensure fullest browser support, could
            // attach http://svn2.assembla.com/svn/brettz9/DOMToString/DOM3.js (see http://svn2.assembla.com/svn/brettz9/DOMToString/DOM3.xhtml for a simple test file)
            var lsInput = DOMImplementationLS.createLSInput();
            // If we're in XHTML, we'll try to allow the XHTML namespace to be available by default
            lsInput.stringData = stringContainer;
            var lsParser = DOMImplementationLS.createLSParser(1, null); // synchronous, no schema type
            return lsParser.parse(lsInput).firstChild;
        }
        else if (win.DOMParser) {
            // If we're in XHTML, we'll try to allow the XHTML namespace to be available by default
            try {
                var fc = new DOMParser().parseFromString(stringContainer, 'text/xml');
                if (!fc || !fc.documentElement ||
                        fc.documentElement.localName !== 'parsererror' ||
                        fc.documentElement.namespaceURI !== 'http://www.mozilla.org/newlayout/xml/parsererror.xml') {
                    return fc.documentElement.firstChild;
                }
                // If there's a parsing error, we just continue on
            }
            catch(e) {
                // If there's a parsing error, we just continue on
            }
        }
        else if (win.ActiveXObject) { // We don't bother with a holder in Explorer as it doesn't support namespaces
            var axo = new ActiveXObject('MSXML2.DOMDocument');
            axo.loadXML(str);
            return axo.documentElement;
        }
        /*else if (win.XMLHttpRequest) { // Supposed to work in older Safari
            var req = new win.XMLHttpRequest;
            req.open('GET', 'data:application/xml;charset=utf-8,'+encodeURIComponent(str), false);
            if (req.overrideMimeType) {
                req.overrideMimeType('application/xml');
            }
            req.send(null);
            return req.responseXML;
        }*/
        // Document fragment did not work with innerHTML, so we create a temporary element holder
        // If we're in XHTML, we'll try to allow the XHTML namespace to be available by default
        //if (d.createElementNS && (d.contentType && d.contentType !== 'text/html')) { // Don't create namespaced elements if we're being served as HTML (currently only Mozilla supports this detection in true XHTML-supporting browsers, but Safari and Opera should work with the above DOMParser anyways, and IE doesn't support createElementNS anyways)
        if (d.createElementNS &&  // Browser supports the method
            d.documentElement.namespaceURI && (d.documentElement.namespaceURI !== null || // We can use if the document is using a namespace
            d.documentElement.nodeName.toLowerCase() !== 'html' || // We know it's not HTML4 or less, if the tag is not HTML (even if the root namespace is null)
            (d.contentType && d.contentType !== 'text/html') // We know it's not regular HTML4 or less if this is Mozilla (only browser supporting the attribute) and the content type is something other than text/html; other HTML5 roots (like svg) still have a namespace
        )) { // Don't create namespaced elements if we're being served as HTML (currently only Mozilla supports this detection in true XHTML-supporting browsers, but Safari and Opera should work with the above DOMParser anyways, and IE doesn't support createElementNS anyways); last test is for the sake of being in a pure XML document
            holder = d.createElementNS(ns, container);
        }
        else {
            holder = d.createElement(container); // Document fragment did not work with innerHTML
        }
        holder.innerHTML = str;
        while (holder.firstChild) {
            parent.appendChild(holder.firstChild);
        }
        return false;
        // throw 'Your browser does not support DOM parsing as required by echo()';
    };


    var ieFix = function (node) {
        if (node.nodeType === 1) {
            var newNode = d.createElement(node.nodeName);
            var i, len;
            if (node.attributes && node.attributes.length > 0) {
                for (i = 0, len = node.attributes.length; i < len; i++) {
                    newNode.setAttribute(node.attributes[i].nodeName, node.getAttribute(node.attributes[i].nodeName));
                }
            }
            if (node.childNodes && node.childNodes.length > 0) {
                for (i = 0, len = node.childNodes.length; i < len; i++) {
                    newNode.appendChild(ieFix(node.childNodes[i]));
                }
            }
            return newNode;
        }
        else {
            return d.createTextNode(node.nodeValue);
        }
    };

    for (i = 0; i < argc; i++ ) {
        arg = argv[i];
        if (this.php_js && this.php_js.ini && this.php_js.ini['phpjs.echo_embedded_vars']) {
            arg = arg.replace(/(.?)\{\$(.*?)\}/g, function (s, m1, m2) {
                // We assume for now that embedded variables do not have dollar sign; to add a dollar sign, you currently must use {$$var} (We might change this, however.)
                // Doesn't cover all cases yet: see http://php.net/manual/en/language.types.string.php#language.types.string.syntax.double
                if (m1 !== '\\') {
                    return m1+eval(m2);
                }
                else {
                    return s;
                }
            });
        }
        if (d.appendChild) {
            if (d.body) {
                if (win.navigator.appName == 'Microsoft Internet Explorer') { // We unfortunately cannot use feature detection, since this is an IE bug with cloneNode nodes being appended
                    d.body.appendChild(stringToDOM(ieFix(arg)));
                }
                else {
                    var unappendedLeft = stringToDOM(arg, d.body, ns_xhtml, 'div').cloneNode(true); // We will not actually append the div tag (just using for providing XHTML namespace by default)
                    if (unappendedLeft) {
                        d.body.appendChild(unappendedLeft);
                    }
                }
            } else {
                d.documentElement.appendChild(stringToDOM(arg, d.documentElement, ns_xul, 'description')); // We will not actually append the description tag (just using for providing XUL namespace by default)
            }
        } else if (d.write) {
            d.write(arg);
        }/* else { // This could recurse if we ever add print!
            print(arg);
        }*/
    }
}

function print_r (array, return_val) {
    // Prints out or returns information about the specified variable  
    // 
    // version: 1004.2314
    // discuss at: http://phpjs.org/functions/print_r
    // +   original by: Michael White (http://getsprink.com)
    // +   improved by: Ben Bryan
    // +      input by: Brett Zamir (http://brett-zamir.me)
    // +      improved by: Brett Zamir (http://brett-zamir.me)
    // +   improved by: Kevin van Zonneveld (http://kevin.vanzonneveld.net)
    // -    depends on: echo
    // *     example 1: print_r(1, true);
    // *     returns 1: 1
    
    var output = "", pad_char = " ", pad_val = 4, d = this.window.document;
    var getFuncName = function (fn) {
        var name = (/\W*function\s+([\w\$]+)\s*\(/).exec(fn);
        if (!name) {
            return '(Anonymous)';
        }
        return name[1];
    };

    var repeat_char = function (len, pad_char) {
        var str = "";
        for (var i=0; i < len; i++) {
            str += pad_char;
        }
        return str;
    };

    var formatArray = function (obj, cur_depth, pad_val, pad_char) {
        if (cur_depth > 0) {
            cur_depth++;
        }

        var base_pad = repeat_char(pad_val*cur_depth, pad_char);
        var thick_pad = repeat_char(pad_val*(cur_depth+1), pad_char);
        var str = "";

        if (typeof obj === 'object' && obj !== null && obj.constructor && getFuncName(obj.constructor) !== 'PHPJS_Resource') {
            str += "Array\n" + base_pad + "(\n";
            for (var key in obj) {
                if (obj[key] instanceof Array) {
                    str += thick_pad + "["+key+"] => "+formatArray(obj[key], cur_depth+1, pad_val, pad_char);
                } else {
                    str += thick_pad + "["+key+"] => " + obj[key] + "\n";
                }
            }
            str += base_pad + ")\n";
        } else if (obj === null || obj === undefined) {
            str = '';
        } else { // for our "resource" class
            str = obj.toString();
        }

        return str;
    };

    output = formatArray(array, 0, pad_val, pad_char);

    if (return_val !== true) {
        if (d.body) {
            this.echo(output);
        }
        else {
            try {
                d = XULDocument; // We're in XUL, so appending as plain text won't work; trigger an error out of XUL
                this.echo('<pre xmlns="http://www.w3.org/1999/xhtml" style="white-space:pre;">'+output+'</pre>');
            }
            catch (e) {
                this.echo(output); // Outputting as plain text may work in some plain XML
            }
        }
        return true;
    } else {
        return output;
    }
}

function var_dump () {

    // Dumps a string representation of variable to output  
    // 
    // version: 1004.2314
    // discuss at: http://phpjs.org/functions/var_dump

    // +   original by: Brett Zamir (http://brett-zamir.me)

    // +   improved by: Zahlii

    // +   improved by: Brett Zamir (http://brett-zamir.me)

    // -    depends on: echo

    // %        note 1: For returning a string, use var_export() with the second argument set to true

    // *     example 1: var_dump(1);

    // *     returns 1: 'int(1)'



    var output = '', pad_char = ' ', pad_val = 4, lgth = 0, i = 0, d = this.window.document;

    var _getFuncName = function (fn) {

        var name = (/\W*function\s+([\w\$]+)\s*\(/).exec(fn);

        if (!name) {

            return '(Anonymous)';

        }

        return name[1];

    };



    var _repeat_char = function (len, pad_char) {

        var str = '';

        for (var i = 0; i < len; i++) {

            str += pad_char;

        }

        return str;

    };

    var _getInnerVal = function (val, thick_pad) {

        var ret = '';

        if (val === null) {

            ret = 'NULL';

        }

        else if (typeof val === 'boolean') {

            ret = 'bool(' + val + ')';

        }

        else if (typeof val === 'string') {

            ret = 'string(' + val.length+') "' + val + '"';

        }

        else if (typeof val === 'number') {

            if (parseFloat(val) == parseInt(val, 10)) {

                ret = 'int(' + val + ')';

            }

            else {

                ret = 'float('+val+')';

            }

        }

        // The remaining are not PHP behavior because these values only exist in this exact form in JavaScript

        else if (typeof val === 'undefined') {

            ret = 'undefined';

        }

        else if (typeof val === 'function') {

            var funcLines = val.toString().split('\n');

            ret = '';

            for (var i = 0, fll = funcLines.length; i < fll; i++) {

                ret += (i !== 0 ? '\n'+thick_pad : '') + funcLines[i];

            }

        }

        else if (val instanceof Date) {

            ret = 'Date('+val+')';

        }

        else if (val instanceof RegExp) {

            ret = 'RegExp('+val+')';

        }

        else if (val.nodeName) { // Different than PHP's DOMElement

            switch(val.nodeType) {

                case 1:

                    if (typeof val.namespaceURI === 'undefined' || val.namespaceURI === 'http://www.w3.org/1999/xhtml') { // Undefined namespace could be plain XML, but namespaceURI not widely supported

                        ret = 'HTMLElement("' + val.nodeName + '")';

                    }

                    else {

                        ret = 'XML Element("' + val.nodeName + '")';

                    }

                    break;

                case 2:

                    ret = 'ATTRIBUTE_NODE(' + val.nodeName + ')';

                    break;

                case 3:

                    ret = 'TEXT_NODE(' + val.nodeValue + ')';

                    break;

                case 4:

                    ret = 'CDATA_SECTION_NODE(' + val.nodeValue + ')';

                    break;

                case 5:

                    ret = 'ENTITY_REFERENCE_NODE';

                    break;

                case 6:

                    ret = 'ENTITY_NODE';

                    break;

                case 7:

                    ret = 'PROCESSING_INSTRUCTION_NODE(' + val.nodeName + ':' + val.nodeValue+')';

                    break;

                case 8:

                    ret = 'COMMENT_NODE(' + val.nodeValue + ')';

                    break;

                case 9:

                    ret = 'DOCUMENT_NODE';

                    break;

                case 10:

                    ret = 'DOCUMENT_TYPE_NODE';

                    break;

                case 11:

                    ret = 'DOCUMENT_FRAGMENT_NODE';

                    break;

                case 12:

                    ret = 'NOTATION_NODE';

                    break;

            }

        }

        return ret;

    };



    var _formatArray = function (obj, cur_depth, pad_val, pad_char) {

        var someProp = '';

        if (cur_depth > 0) {

            cur_depth++;

        }



        var base_pad = _repeat_char(pad_val * (cur_depth - 1), pad_char);

        var thick_pad = _repeat_char(pad_val * (cur_depth + 1), pad_char);

        var str = '';

        var val = '';



        if (typeof obj === 'object' && obj !== null) {

            if (obj.constructor && _getFuncName(obj.constructor) === 'PHPJS_Resource') {

                return obj.var_dump();

            }

            lgth = 0;

            for (someProp in obj) {

                lgth++;

            }

            str += 'array('+lgth+') {\n';

            for (var key in obj) {

                var objVal = obj[key];

                if (typeof objVal === 'object' && objVal !== null &&

                    !(objVal instanceof Date) && !(objVal instanceof RegExp) && !objVal.nodeName) {

                    str += thick_pad + '[' + key + '] =>\n' + thick_pad + _formatArray(objVal, cur_depth + 1, pad_val, pad_char);

                } else {

                    val = _getInnerVal(objVal, thick_pad);

                    str += thick_pad + '[' + key + '] =>\n' + thick_pad + val + '\n';

                }

            }

            str += base_pad + '}\n';

        } else {

            str = _getInnerVal(obj, thick_pad);

        }

        return str;

    };



    output = _formatArray(arguments[0], 0, pad_val, pad_char);

    for (i=1; i < arguments.length; i++) {

        output += '\n' + _formatArray(arguments[i], 0, pad_val, pad_char);

    }



    if (d.body) {

        this.echo(output);

    }

    else {

        try {

            d = XULDocument; // We're in XUL, so appending as plain text won't work

            this.echo('<pre xmlns="http://www.w3.org/1999/xhtml" style="white-space:pre;">'+output+'</pre>');

        }

        catch (e) {

            this.echo(output); // Outputting as plain text may work in some plain XML

        }

    }

}

